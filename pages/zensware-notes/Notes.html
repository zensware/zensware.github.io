<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>zensware.notes</title>
<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg, #0b0b0f 0%, #1c1528 100%);
    color: #e3dcff;
  }
  header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 2rem;
    backdrop-filter: blur(12px);
    background: rgba(30, 23, 44, 0.7);
    border-bottom: 1px solid rgba(255,255,255,0.1);
  }
  .logo { font-weight: bold; display: flex; align-items: center; gap: 0.5rem; color: #bb86fc; }
  nav a {
    color: #c0b3e6;
    text-decoration: none;
    margin-left: 1rem;
    font-weight: 500;
  }
  nav a:hover { color: #7c4dff; }
  .hero {
    text-align: center;
    padding: 3rem 1rem;
  }
  .hero h1 { font-size: 2.5rem; }
  .cta-buttons {
    margin-top: 1.5rem;
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
  }
  .btn {
    border: none;
    border-radius: 12px;
    padding: 0.6rem 1.2rem;
    cursor: pointer;
    font-weight: bold;
    backdrop-filter: blur(10px);
    transition: all 0.3s ease;
  }
  .btn-primary {
    background: rgba(124, 77, 255, 0.25);
    color: white;
  }
  .btn-primary:hover { background: rgba(167, 116, 255, 0.3); }
  .btn-secondary {
    background: rgba(0, 0, 0, 0.25);
    color: white;
  }
  .btn-secondary:hover { background: rgba(50, 50, 50, 0.3); }
  .skills {
    padding: 2rem;
  }
  .skills-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 1.5rem;
  }
  .skill-card {
    padding: 1rem;
    border-radius: 1rem;
    background: rgba(30,23,44,0.7);
    backdrop-filter: blur(12px);
    color: #e3dcff;
  }
  input, textarea, select {
    border: none;
    border-radius: 10px;
    background: rgba(255,255,255,0.1);
    color: #e3dcff;
    margin-top: 0.3rem;
  }
  input, select { padding: 0.5rem; width: 100%; }
  textarea { padding: 0.7rem; width: 100%; }
</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>

<header>
  <div class="logo">zensware.notes</div>
  <nav>
    <a href="#" onclick="filterSubject('All')">All</a>
    <a href="#" onclick="filterSubject('Biology')">Biology</a>
    <a href="#" onclick="filterSubject('Chemistry')">Chemistry</a>
    <a href="#" onclick="filterSubject('Physics')">Physics</a>
    <a href="#" onclick="filterSubject('Math')">Math</a>
  </nav>
</header>

<section class="hero">
  <h1>Your Notes, Organized</h1>
  <p>Take notes by subject and export them as <b>PDFs</b>.</p>
  <div class="cta-buttons">
    <button class="btn btn-primary" onclick="openEditor()">+ New Note</button>
    <button class="btn btn-secondary" onclick="exportAllPDF()">Export All Notes (PDF)</button>
  </div>
</section>

<section class="skills">
  <input type="text" id="search" placeholder="Search notes..." oninput="renderNotes()" style="max-width:400px;display:block;margin:1rem auto;">
  <div class="skills-grid" id="notesContainer"></div>
</section>

<div id="noteEditor" style="display:none;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(30,23,44,0.9);padding:1.5rem;border-radius:1rem;z-index:1000;max-width:600px;width:90%;">
  <h2 id="editorTitle">New Note</h2>
  <label>Subject:</label>
  <select id="noteSubject">
    <option>Biology</option>
    <option>Chemistry</option>
    <option>Physics</option>
    <option>Math</option>
    <option>Other</option>
  </select>
  <label>Title:</label>
  <input id="noteTitle">
  <label>Content:</label>
  <textarea id="noteContent" rows="6"></textarea>
  <div style="margin-top:1rem;display:flex;gap:1rem;flex-wrap:wrap;">
    <button class="btn btn-primary" onclick="saveNote()">Save</button>
    <button class="btn btn-secondary" onclick="closeEditor()">Cancel</button>
  </div>
</div>

<script>
let notes = JSON.parse(localStorage.getItem('zenswareNotes') || '[]');
let editingIndex = null;
let currentFilter = 'All';

function renderNotes() {
  const container = document.getElementById('notesContainer');
  container.innerHTML = '';
  const query = document.getElementById('search').value.toLowerCase();
  notes
    .filter(n => (currentFilter==='All'||n.subject===currentFilter))
    .filter(n => n.title.toLowerCase().includes(query) || n.content.toLowerCase().includes(query))
    .forEach((note, i) => {
      const card = document.createElement('div');
      card.className = 'skill-card';
      card.innerHTML = `
        <h3>${note.title}</h3>
        <p><strong>${note.subject}</strong> - ${new Date(note.date).toLocaleString()}</p>
        <p>${note.content.substring(0,120)}...</p>
        <div style="margin-top:1rem;display:flex;gap:0.5rem;flex-wrap:wrap;">
          <button class="btn btn-secondary" onclick="editNote(${i})">Edit</button>
          <button class="btn btn-secondary" onclick="deleteNote(${i})">Delete</button>
          <button class="btn btn-primary" onclick="exportNotePDF(${i})">Export PDF</button>
        </div>
      `;
      container.appendChild(card);
    });
}

function filterSubject(subj) { currentFilter = subj; renderNotes(); }
function openEditor(index=null) {
  editingIndex = index;
  document.getElementById('noteEditor').style.display='block';
  if(index!==null){
    document.getElementById('editorTitle').innerText='Edit Note';
    document.getElementById('noteSubject').value=notes[index].subject;
    document.getElementById('noteTitle').value=notes[index].title;
    document.getElementById('noteContent').value=notes[index].content;
  } else {
    document.getElementById('editorTitle').innerText='New Note';
    document.getElementById('noteSubject').value='Biology';
    document.getElementById('noteTitle').value='';
    document.getElementById('noteContent').value='';
  }
}
function closeEditor(){ document.getElementById('noteEditor').style.display='none'; }
function saveNote(){
  const subj=document.getElementById('noteSubject').value;
  const title=document.getElementById('noteTitle').value.trim();
  const content=document.getElementById('noteContent').value.trim();
  if(!title || !content){ alert('Please fill in all fields.'); return; }
  if(editingIndex!==null){
    notes[editingIndex]={...notes[editingIndex],subject:subj,title,content};
  } else {
    notes.push({subject:subj,title,content,date:new Date().toISOString()});
  }
  localStorage.setItem('zenswareNotes',JSON.stringify(notes));
  closeEditor();
  renderNotes();
}
function editNote(i){ openEditor(i); }
function deleteNote(i){ if(confirm('Delete this note?')){ notes.splice(i,1); localStorage.setItem('zenswareNotes',JSON.stringify(notes)); renderNotes(); } }
function exportNotePDF(i){
  const { jsPDF } = window.jspdf;
  const doc = new jsPDF({unit:'pt', format:'a4'});
  const note=notes[i];
  doc.setFontSize(18); doc.text(note.title,40,50);
  doc.setFontSize(12); doc.text(`Subject: ${note.subject}`,40,70);
  doc.text(`Date: ${new Date(note.date).toLocaleString()}`,40,90);
  doc.setFontSize(11); doc.text(note.content,40,120,{maxWidth:520});
  doc.save(`${note.title}.pdf`);
}
function exportAllPDF(){
  const { jsPDF } = window.jspdf;
  const doc = new jsPDF({unit:'pt', format:'a4'});
  notes.forEach((note,i)=>{
    if(i>0) doc.addPage();
    doc.setFontSize(18); doc.text(note.title,40,50);
    doc.setFontSize(12); doc.text(`Subject: ${note.subject}`,40,70);
    doc.text(`Date: ${new Date(note.date).toLocaleString()}`,40,90);
    doc.setFontSize(11); doc.text(note.content,40,120,{maxWidth:520});
  });
  doc.save('All_Notes.pdf');
}

renderNotes();
</script>
</body>
</html>
